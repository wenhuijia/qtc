<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="email=no" />
    <title>车辆信息</title>
    <script type="text/javascript" src="js/public.js"></script>
    <link rel="stylesheet" href="css/carDetail.css">
</head>
<body>
     <!-- 返回 -->
     <div class="TopGoBackNav">
        <div class="navBarTop"></div>
        <div class="navBarContent">
            <i></i>
            <p class="titleName">车辆信息</p>
        </div>
    </div>
  <!-- <div class="navBar">
    <p class="navBackBtn backBtn">
      <i></i>
      <span>返回</span>
    </p>
    <p class="titleName">车辆信息</p>
  </div> -->
  <div id="con">
    <!--&lt;!&ndash;车辆标题&ndash;&gt;-->
    <!--<div class="carTitle"></div>-->
    <!--车辆信息-->
    <div class="carBox">
      <div class="info">
        <p class="left">基本参数</p>
        <p class="right down"><img src="images/down.png" alt=""></p>
        <p class="right up"><img src="images/up.png" alt=""></p>
      </div>
      <div class="carIntr">
        <div class="txt">
          <p>品牌:</p>
          <p class = "value" name="brand"></p>
        </div>
        <div class="txt">
          <p>级别:</p>
          <p class = "value"  name="carLevel"></p>
        </div>
        <div class="txt">
          <p>发动机:</p>
          <p class = "value"  name="carEngine"></p>
        </div>
        <div class="txt">
          <p>动力类型:</p>
          <p class = "value"  name="powerType"></p>
        </div>        
        <div class="txt">
          <p>变速箱:</p>
          <p class = "value"  name="gearBox"></p>
        </div>
        <div class="txt">
          <p>长X宽X高(mm):</p>
          <p class = "value"  name="distance"></p>
        </div>
        <div class="txt">
          <p>车身结构:</p>
          <p class = "value"  name="bodyStructure"></p>
        </div>
        <div class="txt">
          <p>上市年份:</p>
          <p class = "value"  name="listingYear"></p>
        </div>
        <div class="txt">
          <p>最高车数(km/h):</p>
          <p class = "value"  name="maximumSpeed"></p>
        </div>
        <div class="txt">
          <p>0-100加速时间(s):</p>
          <p class = "value"  name="accelerationTime"></p>
        </div>
        <div class="txt">
          	<p>工信部油耗(L/100km):</p>
          	<p class = "value"  name="oilWear"></p>
        </div>
		</div>
	</div>

    <!--车体-->
    <div class="carBox">
      <div class="info">
        <p class="left">车身参数</p>
        <p class="right down"><img src="images/down.png" alt=""></p>
        <p class="right up"><img src="images/up.png" alt=""></p>
      </div>
      <div class="carIntr">
        <div class="txt">
          <p>车长(mm)</p>
          <p name="length"></p>
        </div>
        <div class="txt">
          <p>车宽(mm)</p>
          <p name="width"></p>
        </div>
        <div class="txt">
          <p>车高(mm)</p>
          <p name="height"></p>
        </div> 
         <div class="txt">
          <p>轴距(mm)</p>
          <p class = "value" name="wheelBase"></p>
        </div>
         <div class="txt">
          <p>车重(mm)</p>
          <p class = "value"  name="weight"></p>
        </div>
         <div class="txt">
          <p>最小离地间隙(mm):</p>
          <p name="groundspace"></p>
        </div>
         <div class="txt">
          <p>前轮距(mm):</p>
          <p class = "value"  name="frontTread"></p>
        </div>
         <div class="txt">
          <p>后轮距(mm):</p>
          <p class = "value"  name="behindTread"></p>
        </div>
         <div class="txt">
          <p>接近角(°):</p>
          <p class = "value"  name="approachangle"></p>
        </div>
         <div class="txt">
          <p>离去角(°):</p>
          <p class = "value"  name="departureangle"></p>
        </div>        
         <div class="txt">
          <p>车身结构：</p>
          <p class = "value"  name="bodyStructure"></p>
        </div> 
         <div class="txt">
          <p>车门数:</p>
          <p class = "value"  name="doornumber"></p>
        </div>         
         <div class="txt">
          <p>座位数:</p>
          <p name="seatCapacity"></p>
        </div> 
         <div class="txt">
          <p>油箱容积(L):</p>
          <p class = "value"  name="tankVolume"></p>
        </div> 
         <div class="txt">
          <p>行李厢容积(L):</p>
          <p class = "value"  name="luggageVolume"></p>
        </div> 
         <div class="txt">
          <p>行李厢最大容积(L):</p>
          <p class = "value"  name="maximumLuggageVolume"></p>
        </div>
      </div>
    </div>
    
    <!--发动机-->
    <div class="carBox">
      <div class="info">
        <p class="left">发动机</p>
        <p class="right down"><img src="images/down.png" alt=""></p>
        <p class="right up"><img src="images/up.png" alt=""></p>
      </div>
      <div class="carIntr">
        <div class="txt">
          <p>发动机型号:</p>
          <p class = "value" name="engineType"></p>
        </div>
        <div class="txt">
          <p>排量(mL):</p>
          <p name="enginesIze"></p>
        </div>
        <div class="txt">
          <p>进气形式:</p>
          <p class = "value"  name="inletForm"></p>
        </div>
        <div class="txt">
          <p>气缸排列形式:</p>
          <p class = "value"  name="cylinderArrangement"></p>
        </div>
        <div class="txt">
          <p>汽缸数:</p>
          <p class = "value" name="cylinders"></p>
        </div>
        <div class="txt">
          <p>每缸气门数(个):</p>
          <p class = "value" name="valveNumber"></p>
        </div>
        <div class="txt">
          <p>压缩比:</p>
          <p class = "value" name="compressionRatio"></p>
        </div>
        <div class="txt">
          <p>配气机构:</p>
          <p class = "value" name="valveTrain"></p>
        </div>
        <div class="txt">
          <p>缸径(mm):</p>
          <p class = "value" name="bore"></p>
        </div>
        <div class="txt">
          <p>行程(mm):</p>
          <p class = "value"  name="trip"></p>
        </div>
        <div class="txt">
          <p>缸盖材质:</p>
          <p class = "value"  name="cylinderHeadMaterial"></p>
        </div>
        <div class="txt">
          <p>缸体材质:</p>
          <p class = "value" name="cylinderMaterial"></p>
        </div>
        <div class="txt">
          <p>最大马力(Ps):</p>
          <p class = "value" name="maximumHorsepower"></p>
        </div>
        <div class="txt">
          <p>最大功率(kW/rpm):</p>
          <p class = "value" name="maximumPower"></p>
        </div>
        <div class="txt">
          <p>最大扭矩(Nm/rpm):</p>
          <p class = "value" name="maximumTorque"></p>
        </div>
        <div class="txt">
          <p>燃料:</p>
          <p class = "value" name="fuel"></p>
        </div>
        <div class="txt">
          <p>燃油标号:</p>
          <p class = "value" name="yuelMark"></p>
        </div>
        <div class="txt">
          <p>供油方式:</p>
          <p class = "value" name="fuelSupplyMode"></p>
        </div>
        <div class="txt">
          <p>环保标准:</p>
          <p class = "value" name="environmentalStandard"></p>
        </div>
        <div class="txt">
          <p>发动机自动启/停:</p>
          <p class = "value" name="automatic"></p>
        </div>
      </div>
    </div>

    <!--外部配置-->
    <div class="carBox">
      <div class="info">
        <p class="left">外部配置</p>
        <p class="right down"><img src="images/down.png" alt=""></p>
        <p class="right up"><img src="images/up.png" alt=""></p>
      </div>
      <div class="carIntr">
        <div class="txt">
          <p>电动天窗:</p>
          <p class = "value" name="electricSunroof"></p>
        </div>
        <div class="txt">
          <p>全景天窗:</p>
          <p class = "value" name="panoramicSunroof"></p>
        </div>
        <div class="txt">
          <p>运动版包围:</p>
          <p class = "value" name="sportsEditionSurrounded"></p>
        </div>
        <div class="txt">
          <p>铝合金轮圈:</p>
          <p class = "value" name="aluminumAlloyWheels"></p>
        </div>
        <div class="txt">
          <p>电动吸合门:</p>
          <p class = "value" name="electricPullDoor"></p>
        </div>
		<div class="txt">
          <p>行李架:</p>
          <p class = "value" name="luggageRack"></p>
        </div>
        <div class="txt">
          <p>主动格栅:</p>
          <p class = "value" name="activeGrid"></p>
        </div>
        <div class="txt">
          <p>感应后备厢:</p>
          <p class = "value" name="inductionBackupBox"></p>
        </div>
        <div class="txt">
          <p>电动后备厢:</p>
          <p class = "value" name="electricReserveBox"></p>
        </div>
      </div>
    </div>
    	
    <!--内部配置-->
    <div class="carBox">
      <div class="info">
        <p class="left">内部配置</p>
        <p class="right down"><img src="images/down.png" alt=""></p>
        <p class="right up"><img src="images/up.png" alt=""></p>
      </div>
      <div class="carIntr">
        <div class="txt">
          <p>真皮方向盘</p>
          <p class="value" name="leatherSteeringWheel"></p>
        </div>
        <div class="txt">
          <p>方向盘调节</p>
          <p class="value" name="steeringWheelAdjustment"></p>
        </div>
        <div class="txt">
          <p>多功能方向盘</p>
          <p class="value" name="multifunctionalSteeringWheel"></p>
        </div>
        <div class="txt">
          <p>方向盘电动调节</p>
          <p class="value"  name="electricalControlSteeringWheel"></p>
        </div>
        <div class="txt">
          <p>方向盘记忆</p>
          <p class="value"  name="steeringWheelMemory"></p>
        </div>
        <div class="txt">
          <p>方向盘加热</p>
          <p class="value"  name="steeringWheelHeating"></p>
        </div>
        <div class="txt">
          <p>换挡拨片</p>
          <p class="value"  name="activeGrid"></p>
        </div>
        <div class="txt">
          <p>泊车雷达</p>
          <p class="value"  name="parkingRadar"></p>
        </div>
        <div class="txt">
          <p>倒车视频影像</p>
          <p class="value"  name="reversingVideoImages"></p>
        </div>
        <div class="txt">
          <p>全景摄像头</p>
          <p class="value"  name="panoramicCamera"></p>
        </div>
        <div class="txt">
          <p>自动泊车入位</p>
          <p class="value"  name="automaticParkingPosition"></p>
        </div>
        <div class="txt">
          <p>定速巡航</p>
          <p class="value"  name="cruiseControl"></p>
        </div>
        <div class="txt">
          <p>自适应巡航</p>
          <p class="value"  name="adaptiveCruiseControl"></p>
        </div>
        <div class="txt">
          <p>无钥匙进入系统</p>
          <p class="value"  name="keylessEntrySystem"></p>
        </div>
        <div class="txt">
          <p>无钥匙启动系统</p>
          <p class="value"  name="keylessStartingSystem"></p>
        </div>
        <div class="txt">
          <p>全液晶仪表盘</p>
          <p class="value"  name="allLcdDashboard"></p>
        </div>
        <div class="txt">
          <p>行车电脑显示屏</p>
          <p class="value"  name="drivingComputerDisplayScreen"></p>
        </div>
        <div class="txt">
          <p>HUD抬头数字显示</p>
          <p class="value"  name="hudDigitalDisplay"></p>
        </div>
        <div class="txt">
          <p>220V/230V电源</p>
          <p class="value"  name="powerSupply"></p>
        </div>
      </div>
    </div>
  
  </div>
  <script src="js/jquery-1.7.2.min.js"></script>
  <script type="text/javascript">
    if(!isWeiXin()){
      $('#con').addClass("topDistance");
    }
    /**baseUrl,根据不同的环境进行选择url切换*/
    //var baseUrl = "http://10.83.20.199:8080/rcbms/";//sit环境
    //var baseUrl = "http://sitwxbqjrcar.bqjr.cn:9001/rcbms/";//外网环境

    var carModelIdVal="";
    var productIdVal="";
	
	function toValue(inp) {
		return (inp == null || inp.length<=0)?'-':inp;
	}
	
    function GetQueryString(name) {
      var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
      var url = window.location.search;
      //console.log(url);
      var theRequest = new Object();
      if (url.indexOf("?") != -1) {
        var str = url.substr(1);
        strs = str.split("&");
        for(var i = 0; i < strs.length; i ++) {
          theRequest[strs[i].split("=")[0]]=(strs[i].split("=")[1]);
        }
        /**拿到url的值转化为字符串:{"carModelIdVal":"2016091400000123","productIdVal":"1"}**/
        //console.log(JSON.stringify(theRequest));
      }
      /**拿到值,让Android把值传url后面拼接上**/
      // debugger;
      carModelIdVal = theRequest.carModelIdVal;
      productIdVal = theRequest.productIdVal;
      //console.log(carModelIdVal);//2016091400000123
      //console.log(productIdVal);//1
    }
    //console.log(carModelIdVal+" && "+productIdVal);
    GetQueryString(productIdVal);

    /**调用后台车辆详情查询接口,将数据渲染车辆信息页面**/
      $.ajax({
        type:"GET",
        headers:{"Content-Type":"application/json;charset=UTF-8"},
        url:baseUrl+'product/selectCarInfo?carModelId='+ carModelIdVal+"&productId="+productIdVal,   
        success:function(data) {
          var results = JSON.parse(data).result;//获取车辆信息、车体、发动机信息
			
		if(results==null || results=="[]" || $.isEmptyObject(results) || results.length<=0 ) return;
	
		$(".value").text(function() {
		  		return toValue(results['carModelParticularsInfo'][$(this).attr("name")]);
		  });

		$('.carTitle').text(toValue(results.productName));
		$('[name="length"]').text(toValue(results.length));
		$('[name="width"]').text(toValue(results.width));
		$('[name="height"]').text(toValue(results.height));
		$('[name="enginesIze"]').text(toValue(results.enginesIze));
		$('[name="seatCapacity"]').text(toValue(results.seatCapacity));
		$('[name="groundspace"]').text(toValue(results.groundspace));
       },
        error:function(data){
          //console.log('失败');
        }
      });

    (function($){
      $(function(){
        // 判断是否是微信
        if(isWeiXin()){
          $(".navBar").hide();
          $("#con").css({"padding-top":"0"});
        } else {
          // 判断是否是安卓
          var isAndroid = navigator.userAgent.indexOf('Android') > -1 || navigator.userAgent.indexOf('Adr') > -1;
          if(isAndroid){
            $(".navBar").css({"padding-top":"0"});
            // $("#con").css({"padding-top":"0.88rem"});
            $(".navBackBtn").css({"top":"0.24rem"});
          }
        }

        // 在app里取消查看全部车型
        if(!isWeiXin() && equipment() == 'IOS'){
          $(".linkBtn").css({"display":"none"});
          $(".carImgs .backBtn").css({"display":"none"});
        }

        // 导航栏文字变换
        //$(".titleName").html($(".carInfo .carName").html());

        //车辆信息的切换
        $(".carBox .info .down").click(function(){
          $(this).hide();
          $(this).next().show().parent().siblings(".carIntr").show();
        })

        $(".carBox .info .up").click(function(){
          $(this).hide();
          $(this).prev().show().parent().siblings(".carIntr").hide();
        })

        //返回
        $(" .TopGoBackNav").on("click",function(){
          history.back();
        });

      });
    })(jQuery)
  </script>
</body>
</html>